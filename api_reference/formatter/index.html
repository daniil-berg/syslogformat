
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python `logging.Formatter` class for syslog style messages">
      
      
      
        <link rel="canonical" href="http://daniil-berg.github.io/syslogformat/api_reference/formatter/">
      
      
        <link rel="prev" href="../facility/">
      
      
        <link rel="next" href="../helpers/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Formatter - syslogformat</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#syslogformat.formatter.SyslogFormatter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="syslogformat" class="md-header__button md-logo" aria-label="syslogformat" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            syslogformat
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Formatter
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/daniil-berg/syslogformat" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    daniil-berg/syslogformat
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="syslogformat" class="md-nav__button md-logo" aria-label="syslogformat" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    syslogformat
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/daniil-berg/syslogformat" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    daniil-berg/syslogformat
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../facility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Facility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Formatter
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Formatter
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter" class="md-nav__link">
    SyslogFormatter
  </a>
  
    <nav class="md-nav" aria-label="SyslogFormatter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter.format" class="md-nav__link">
    format()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter.formatMessage" class="md-nav__link">
    formatMessage()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../helpers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helpers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../severity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Severity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter" class="md-nav__link">
    SyslogFormatter
  </a>
  
    <nav class="md-nav" aria-label="SyslogFormatter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter.format" class="md-nav__link">
    format()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syslogformat.formatter.SyslogFormatter.formatMessage" class="md-nav__link">
    formatMessage()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Formatter</h1>

<div class="doc doc-object doc-module">




  <div class="doc doc-contents first">
  
      <p>Definition of the central <code>SyslogFormatter</code> class.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h2 id="syslogformat.formatter.SyslogFormatter" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">SyslogFormatter</span>


<a href="#syslogformat.formatter.SyslogFormatter" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" title="logging.Formatter" href="https://docs.python.org/3/library/logging.html#logging.Formatter">Formatter</a></code></p>

  
      <p>Log formatter class for <code>syslog</code>-style log messages.</p>
<p>It ensures that a <code>syslog</code> PRI part is prepended to every log message.
The PRI code is calculated as the facility value (provided in the
constructor) multiplied by 8 plus the severity value, which is derived from
the level of each log record.
See the relevant section of
<a href="https://datatracker.ietf.org/doc/html/rfc3164#section-4.1">RFC 3164</a>
for details about <code>syslog</code> standard.</p>
<p>The formatter is also equipped by default to format log messages into
one-liners, such that for example exception messages and stack traces
included in a log record do not result in the message spanning multiple
lines in the final output.</p>
<p>It also makes it possible to automatically append additional details to a
log message, if the log record exceeds a specified level.</p>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="syslogformat.formatter.SyslogFormatter.__init__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__init__</span>


<a href="#syslogformat.formatter.SyslogFormatter.__init__" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature codehilite"><pre><span></span><code><span class="fm">__init__</span><span class="p">(</span>
    <span class="n">fmt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">datefmt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">style</span><span class="p">:</span> <span class="n">StyleKey</span> <span class="o">=</span> <span class="s2">&quot;%&quot;</span><span class="p">,</span>
    <span class="n">validate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">defaults</span><span class="p">:</span> <span class="n">AnyMap</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">facility</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">USER</span><span class="p">,</span>
    <span class="n">line_break_repl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot; --&gt; &quot;</span><span class="p">,</span>
    <span class="n">level_formats</span><span class="p">:</span> <span class="n">LevelFmtMap</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Validates the added formatter constructor arguments.</p>
<p>For details about the base class' constructor parameters, the official
<a href="https://docs.python.org/3/library/logging.html#logging.Formatter">docs</a>
provide full explanations.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fmt</code></td>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A format string in the given <code>style</code> for the logged output as a
whole. The possible mapping keys are drawn from the
<code>logging.LogRecord</code> object's
<a href="https://docs.python.org/3/library/logging.html#logrecord-attributes">attributes</a>.</p>
<p>By default <code>%(message)s | %(name)s</code> will be used and passed to
the parent <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter"><code>__init__</code></a>. If any custom string
is passed, that string is passed through unchanged to the parent
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter"><code>__init__</code></a>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>datefmt</code></td>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Passed through to the parent <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter"><code>__init__</code></a>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>style</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="syslogformat.types.StyleKey" href="../types/#syslogformat.types.StyleKey">StyleKey</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Passed through to the parent <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter"><code>__init__</code></a>.</p>
            </div>
          </td>
          <td>
                <code>&#39;%&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>validate</code></td>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> (default), incorrect or mismatched <code>fmt</code> and <code>style</code>
will raise a <code>ValueError</code>; for example,
<code>logging.Formatter('%(asctime)s - %(message)s', style='{')</code>.</p>
<p>Also, if <code>True</code>, a non-standard <code>facility</code> value (i.e. not
between 0 and 24) will raise a
<a class="autorefs autorefs-internal" href="../exceptions/#syslogformat.exceptions.NonStandardSyslogFacility"><code>NonStandardSyslogFacility</code></a>
error. The argument is always passed through to the parent
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter"><code>__init__</code></a>.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>defaults</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="syslogformat.types.AnyMap" href="../types/#syslogformat.types.AnyMap">AnyMap</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Passed through to the parent <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter"><code>__init__</code></a>
on Python <code>&gt;=3.10</code>. Ignored on Python <code>&lt;3.10</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>facility</code></td>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Used to calculate the number in the PRI part at the very start
of each log message. This argument should be an integer between
0 and 24. The <code>facility</code> value is multiplied by 8 and added
to the numerical value of the severity that corresponds to the
log level of the message.</p>
<p>Details about accepted numerical values can be found in
<a href="https://datatracker.ietf.org/doc/html/rfc3164#section-4.1.1">section 4.1.1</a>
of RFC 3164.
Defaults to <a class="autorefs autorefs-internal" href="../facility/#syslogformat.facility.USER"><code>USER</code></a>.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="syslogformat.facility.USER" href="../facility/#syslogformat.facility.USER">USER</a></code>
          </td>
        </tr>
        <tr>
          <td><code>line_break_repl</code></td>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>To prevent a single log message taking up more than one line,
every line-break (and consecutive whitespace) in the final log
message will be replaced with the string provided here. This is
useful because log records that include exception information
for example normally result in the multi-line traceback being
included in the log message.</p>
<p>Passing <code>None</code> disables this behavior. This means the default
(multi-line) exception formatting will be used.</p>
<p>Defaults to <code>' --&gt; '</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39; --&gt; &#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>level_formats</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="syslogformat.types.LevelFmtMap" href="../types/#syslogformat.types.LevelFmtMap">LevelFmtMap</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If provided a mapping of log level thresholds to format strings,
the formatter will prioritize the format with the highest level
threshold for all log records at or above that level.</p>
<p>For example, say you pass the following dictionary:
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s2">&quot;WARNING&quot;</span><span class="p">:</span> <span class="s2">&quot;foo </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ERROR&quot;</span><span class="p">:</span>   <span class="s2">&quot;bar </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div>
Log records with the level <code>ERROR</code> or higher will be formatted
with the <code>bar %(message)s</code> format; records with a level of
<code>WARNING</code> or higher but below <code>ERROR</code> will be formatted with the
<code>foo %(message)s</code> format; those with a level below <code>WARNING</code>
will use the normal format provided via the <code>fmt</code> argument.</p>
<p>The order of the provided mapping is irrelevant.
If such a mapping is passed, the formats <em>should</em> conform to the
specified <code>style</code>, just like the <code>fmt</code> argument; if any of them
does not <strong>and</strong> <code>validate</code> is <code>True</code>, a <code>ValueError</code> is raised.</p>
<p>If passed <code>None</code> (default) or an empty mapping, the formatter
will use the normal provided <code>fmt</code> for all log messages.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="syslogformat.exceptions.NonStandardSyslogFacility" href="../exceptions/#syslogformat.exceptions.NonStandardSyslogFacility">NonStandardSyslogFacility</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>validate</code> was set to <code>True</code> and the <code>facility</code> passed was
not an integer between 0 and 23.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>validate</code> was set to <code>True</code> and the provided <code>fmt</code> or any of
the values in the <code>level_formats</code> mapping (if provided) do not
match the specified <code>style</code>.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="syslogformat.formatter.SyslogFormatter.format" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">format</span>


<a href="#syslogformat.formatter.SyslogFormatter.format" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature codehilite"><pre><span></span><code><span class="nb">format</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Formats a record to be compliant with syslog PRI (log level/severity).</p>
<p>Ensures that line-breaks in the exception message are replaced to ensure
it fits into a single line, unless this behavior was disabled.</p>
<p>The rest of the logic is the same as in the
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter.format">parent method</a>.
The record's attribute dictionary is used as the operand to a string
formatting operation which yields the returned string. Before formatting
the dictionary, a couple of preparatory steps are carried out. The
<code>message</code> attribute of the record is computed using
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.LogRecord.getMessage">LogRecord.getMessage</a>. If the formatting
string uses the time (as determined by a call to <code>usesTime</code>),
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter.formatTime">formatTime</a> is called to format the event
time.
If there is exception information, it is formatted using
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter.formatException">formatException</a> and appended to the
message.
If stack information is available, it is appended after the exception
information, using <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.Formatter.formatStack">formatStack</a>
to transform it if necessary.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>record</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="logging.LogRecord" href="https://docs.python.org/3/library/logging.html#logging.LogRecord">LogRecord</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/logging.html#logging.LogRecord"><code>logging.LogRecord</code></a> to format as text</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The final log message constructed from the log record</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="syslogformat.formatter.SyslogFormatter.formatMessage" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">formatMessage</span>


<a href="#syslogformat.formatter.SyslogFormatter.formatMessage" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature codehilite"><pre><span></span><code><span class="n">formatMessage</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Takes a log record and produces a formatted message from it.</p>
<p>If different level styles have been set, the one mapped to the highest
level at or below that of the <code>record</code> will be used to format it.</p>
<p>Otherwise the parent method is called.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>record</code></td>
          <td>
                <code><a class="autorefs autorefs-external" title="logging.LogRecord" href="https://docs.python.org/3/library/logging.html#logging.LogRecord">LogRecord</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The log record to format</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The formatted log message as text</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2023 Daniil Fajnberg
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>